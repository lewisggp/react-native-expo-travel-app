const {
	GoogleGenerativeAI,
	HarmCategory,
	HarmBlockThreshold,
} = require("@google/generative-ai");

const apiKey = process.env.EXPO_PUBLIC_GOOGLE_GEMINI_API_KEY;
const genAI = new GoogleGenerativeAI(apiKey);

const model = genAI.getGenerativeModel({
	model: "gemini-1.5-flash",
});

const generationConfig = {
	temperature: 1,
	topP: 0.95,
	topK: 64,
	maxOutputTokens: 8192,
	responseMimeType: "application/json",
};

export const chatSession = model.startChat({
	generationConfig,
	// safetySettings: Adjust safety settings
	// See https://ai.google.dev/gemini-api/docs/safety-settings
	history: [
		{
			role: "user",
			parts: [
				{
					text: "Generate Travel Plan for Location: Trip description, for 3 Days and 2 Night for Just Me with a Moderate budget with a Flight details, Flight Price \nwith Booking url, Hotels options list with HotelName, Hotel address, Price, hotel image url, geo coordinates, rating, descriptions and Places to visit nearby with placeName, Place Details, Place Image Url, Geo Coordinates, ticket Pricing, Time to travel each of the location for 3 days and 2 night with each day plan with best time to visit in JSON format.",
				},
			],
		},
		{
			role: "model",
			parts: [
				{
					text: '```json\n{\n  "trip": {\n    "destination": "Berlin, Germany",\n    "duration": "3 Days & 2 Nights",\n    "budget": "Moderate",\n    "travelers": "Solo",\n    "flight": {\n      "details": "Roundtrip from your current location to Berlin Brandenburg Airport (BER)",\n      "price": "Please provide your departure city for accurate pricing.",\n      "bookingUrl": "https://www.google.com/flights" // Replace with your preferred booking platform\n    },\n    "hotels": [\n      {\n        "hotelName": "The Circus Hotel",\n        "hotelAddress": "Oranienstraße 25, 10999 Berlin, Germany",\n        "price": "$100 - $150 per night",\n        "hotelImageUrl": "https://images.trvl-media.com/media/hotels/1000000/980000/977700/977630/977630_104_b.jpg",\n        "geoCoordinates": "52.4956, 13.4044",\n        "rating": "4 Stars",\n        "description": "A trendy hotel located in the vibrant Kreuzberg neighborhood, offering stylish rooms, a lively bar, and a central location."\n      },\n      {\n        "hotelName": "The Michelberger Hotel",\n        "hotelAddress": "Warschauer Straße 39-40, 10243 Berlin, Germany",\n        "price": "$120 - $180 per night",\n        "hotelImageUrl": "https://media.timeout.com/images/105435294/image.jpg",\n        "geoCoordinates": "52.5078, 13.4368",\n        "rating": "4 Stars",\n        "description": "A design-focused hotel with a relaxed atmosphere, located in the trendy Friedrichshain neighborhood, known for its nightlife and street art."\n      },\n      {\n        "hotelName": "nhow Berlin",\n        "hotelAddress": "Stralauer Allee 3, 10245 Berlin, Germany",\n        "price": "$150 - $200 per night",\n        "hotelImageUrl": "https://www.nh-hotels.com/resource/blob/1304656/54a096152a617948350293c5a61f2948/nhow-berlin-exterior-data.jpg",\n        "geoCoordinates": "52.5111, 13.4488",\n        "rating": "4 Stars",\n        "description": "A modern and stylish hotel located near the East Side Gallery, offering panoramic city views and a vibrant atmosphere."\n      }\n    ],\n    "dayPlan": [\n      {\n        "day": "Day 1",\n        "activities": [\n          {\n            "time": "10:00 AM",\n            "activity": "Arrive at Berlin Brandenburg Airport (BER) and check into your hotel.",\n            "location": "Berlin Brandenburg Airport (BER)"\n          },\n          {\n            "time": "11:00 AM",\n            "activity": "Visit the Brandenburg Gate, a historical landmark and symbol of German reunification.",\n            "location": "Brandenburg Gate, Berlin",\n            "placeDetails": "A neoclassical archway that once marked the division of East and West Berlin. Now a symbol of unity and freedom.",\n            "placeImageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/8/8c/Brandenburger_Tor_Berlin_2019_03_08.jpg/1280px-Brandenburger_Tor_Berlin_2019_03_08.jpg",\n            "geoCoordinates": "52.5162, 13.3777",\n            "ticketPricing": "Free",\n            "timeToTravel": "1 hour"\n          },\n          {\n            "time": "1:00 PM",\n            "activity": "Have lunch at a traditional German restaurant near the Brandenburg Gate.",\n            "location": "Restaurant choice"\n          },\n          {\n            "time": "2:00 PM",\n            "activity": "Explore the Reichstag Building, the seat of the German Parliament, and enjoy the panoramic views from the dome.",\n            "location": "Reichstag Building, Berlin",\n            "placeDetails": "The iconic building that houses the German Parliament. Visitors can climb the dome for stunning views of the city.",\n            "placeImageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/f/f2/Reichstag_building_2017.jpg/1280px-Reichstag_building_2017.jpg",\n            "geoCoordinates": "52.5180, 13.3761",\n            "ticketPricing": "Free (registration required)",\n            "timeToTravel": "2 hours"\n          },\n          {\n            "time": "5:00 PM",\n            "activity": "Walk along Unter den Linden, a historic boulevard lined with government buildings, museums, and shops.",\n            "location": "Unter den Linden, Berlin",\n            "placeDetails": "A grand avenue that stretches from the Brandenburg Gate to the Humboldt Forum, showcasing some of Berlin\'s most important buildings.",\n            "placeImageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/6/67/Berlin_Unter_den_Linden_%28cropped%29.jpg/1280px-Berlin_Unter_den_Linden_%28cropped%29.jpg",\n            "geoCoordinates": "52.5175, 13.3992",\n            "ticketPricing": "Free",\n            "timeToTravel": "1 hour"\n          },\n          {\n            "time": "7:00 PM",\n            "activity": "Enjoy dinner at a restaurant in the Mitte district, known for its diverse culinary scene."\n            "location": "Restaurant choice"\n          }\n        ]\n      },\n      {\n        "day": "Day 2",\n        "activities": [\n          {\n            "time": "9:00 AM",\n            "activity": "Visit the East Side Gallery, a preserved section of the Berlin Wall that has become a popular destination for street art.",\n            "location": "East Side Gallery, Berlin",\n            "placeDetails": "A 1.3 km long section of the Berlin Wall that has been transformed into an open-air art gallery.",\n            "placeImageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/6/6e/East_Side_Gallery_%28Berlin%29_20110331_13.jpg/1280px-East_Side_Gallery_%28Berlin%29_20110331_13.jpg",\n            "geoCoordinates": "52.5067, 13.4478",\n            "ticketPricing": "Free",\n            "timeToTravel": "2 hours"\n          },\n          {\n            "time": "11:00 AM",\n            "activity": "Explore the Museum Island, home to five world-class museums, including the Pergamon Museum and the Neues Museum.",\n            "location": "Museum Island, Berlin",\n            "placeDetails": "An island in the Spree River that houses five renowned museums showcasing ancient artifacts, art, and cultural history.",\n            "placeImageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/9/9b/Berlin_Museumsinsel_07_2015_05_03.jpg/1280px-Berlin_Museumsinsel_07_2015_05_03.jpg",\n            "geoCoordinates": "52.5170, 13.4057",\n            "ticketPricing": "Varies by museum",\n            "timeToTravel": "3-4 hours"\n          },\n          {\n            "time": "2:00 PM",\n            "activity": "Have lunch at a café near Museum Island."\n            "location": "Café choice"\n          },\n          {\n            "time": "3:00 PM",\n            "activity": "Visit the Berlin Wall Memorial, a moving tribute to the victims of the Berlin Wall.",\n            "location": "Berlin Wall Memorial, Berlin",\n            "placeDetails": "A poignant memorial that commemorates the lives lost during the Cold War era and the division of Berlin.",\n            "placeImageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/c/c3/Berlin_Wall_Memorial_2011.jpg/1280px-Berlin_Wall_Memorial_2011.jpg",\n            "geoCoordinates": "52.5030, 13.3859",\n            "ticketPricing": "Free",\n            "timeToTravel": "1 hour"\n          },\n          {\n            "time": "5:00 PM",\n            "activity": "Explore the trendy neighborhood of Prenzlauer Berg, known for its charming cafes, boutiques, and parks."\n            "location": "Prenzlauer Berg, Berlin"\n          },\n          {\n            "time": "7:00 PM",\n            "activity": "Enjoy dinner at a restaurant in Prenzlauer Berg."\n            "location": "Restaurant choice"\n          }\n        ]\n      },\n      {\n        "day": "Day 3",\n        "activities": [\n          {\n            "time": "9:00 AM",\n            "activity": "Visit the Charlottenburg Palace, a magnificent baroque palace with beautiful gardens.",\n            "location": "Charlottenburg Palace, Berlin",\n            "placeDetails": "A grand palace with impressive gardens, showcasing the history of the Hohenzollern dynasty.",\n            "placeImageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/4/40/Schloss_Charlottenburg_Berlin_2009.jpg/1280px-Schloss_Charlottenburg_Berlin_2009.jpg",\n            "geoCoordinates": "52.5143, 13.2949",\n            "ticketPricing": "Varies",\n            "timeToTravel": "2-3 hours"\n          },\n          {\n            "time": "12:00 PM",\n            "activity": "Have lunch at a restaurant near Charlottenburg Palace."\n            "location": "Restaurant choice"\n          },\n          {\n            "time": "1:00 PM",\n            "activity": "Explore the Tiergarten, a large urban park offering a relaxing escape from the city bustle.",\n            "location": "Tiergarten, Berlin",\n            "placeDetails": "A sprawling park in the heart of Berlin, offering walking trails, gardens, and a peaceful atmosphere.",\n            "placeImageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/c/c9/Tiergarten_Berlin_%28cropped%29.jpg/1280px-Tiergarten_Berlin_%28cropped%29.jpg",\n            "geoCoordinates": "52.5162, 13.3531",\n            "ticketPricing": "Free",\n            "timeToTravel": "2 hours"\n          },\n          {\n            "time": "3:00 PM",\n            "activity": "Visit the Memorial to the Murdered Jews of Europe, a powerful and moving memorial to the victims of the Holocaust.",\n            "location": "Memorial to the Murdered Jews of Europe, Berlin",\n            "placeDetails": "A stark and thought-provoking memorial that honors the memory of the Jewish victims of the Holocaust.",\n            "placeImageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/9/9f/Holocaust_memorial_berlin_2009.jpg/1280px-Holocaust_memorial_berlin_2009.jpg",\n            "geoCoordinates": "52.5185, 13.3889",\n            "ticketPricing": "Free",\n            "timeToTravel": "1 hour"\n          },\n          {\n            "time": "5:00 PM",\n            "activity": "Enjoy a final dinner in Berlin."\n            "location": "Restaurant choice"\n          },\n          {\n            "time": "8:00 PM",\n            "activity": "Head to the airport for your departure flight."\n            "location": "Berlin Brandenburg Airport (BER)"\n          }\n        ]\n      }\n    ]\n  }\n}\n```\n\n**Please note:**\n\n* This is a sample itinerary, and you can customize it based on your interests.\n* You will need to replace "Restaurant choice" and "Café choice" with your preferred selections.\n* You can also add other activities like visiting museums, exploring different neighborhoods, taking a walking tour, or attending a concert.\n* Remember to book your flights and hotels in advance, especially if traveling during peak season.\n\n**Enjoy your trip to Berlin!** \n',
				},
			],
		},
	],
});

// const result = await chatSession.sendMessage("INSERT_INPUT_HERE");
// console.log(result.response.text());
